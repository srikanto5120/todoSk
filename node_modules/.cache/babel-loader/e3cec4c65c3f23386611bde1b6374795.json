{"ast":null,"code":"import { ADDED, ALLCOMPLETED, CLEARCOMPLETED, COLORSELECTED, DELETED, LOADED, TOGGLED } from \"./actionTypes\";\nimport initialState from \"./initialState\";\n\nconst nextTodoId = todos => {\n  const maxId = todos.reduce((maxId, todo) => Math.max(todo.id, maxId), -1);\n  return maxId + 1;\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOADED:\n      return action.payload;\n\n    case ADDED:\n      return [...state, {\n        id: nextTodoId(state),\n        text: action.payload,\n        completed: false\n      }];\n\n    case TOGGLED:\n      return state.map(todo => {\n        if (todo.id !== action.payload) {\n          return todo;\n        }\n\n        return { ...todo,\n          completed: !todo.completed\n        };\n      });\n\n    case COLORSELECTED:\n      const {\n        todoId,\n        color\n      } = action.payload;\n      return state.map(todo => {\n        if (todo.id !== todoId) {\n          return todo;\n        }\n\n        return { ...todo,\n          color: color\n        };\n      });\n\n    case DELETED:\n      return state.filter(todo => todo.id !== action.payload);\n\n    case ALLCOMPLETED:\n      return state.map(todo => {\n        return { ...todo,\n          completed: true\n        };\n      });\n\n    case CLEARCOMPLETED:\n      return state.filter(todo => !todo.completed);\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/linux/learn with sumit/4/think-in-a-redux-way/src/redux/todos/reducer.js"],"names":["ADDED","ALLCOMPLETED","CLEARCOMPLETED","COLORSELECTED","DELETED","LOADED","TOGGLED","initialState","nextTodoId","todos","maxId","reduce","todo","Math","max","id","reducer","state","action","type","payload","text","completed","map","todoId","color","filter"],"mappings":"AAAA,SACIA,KADJ,EAEIC,YAFJ,EAGIC,cAHJ,EAIIC,aAJJ,EAKIC,OALJ,EAMIC,MANJ,EAOIC,OAPJ,QAQO,eARP;AASA,OAAOC,YAAP,MAAyB,gBAAzB;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAC1B,QAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAa,CAACD,KAAD,EAAQE,IAAR,KAAiBC,IAAI,CAACC,GAAL,CAASF,IAAI,CAACG,EAAd,EAAkBL,KAAlB,CAA9B,EAAwD,CAAC,CAAzD,CAAd;AACA,SAAOA,KAAK,GAAG,CAAf;AACH,CAHD;;AAKA,MAAMM,OAAO,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBV,YAAyB;AAAA,MAAXW,MAAW;;AAC9C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKd,MAAL;AACI,aAAOa,MAAM,CAACE,OAAd;;AAEJ,SAAKpB,KAAL;AACI,aAAO,CACH,GAAGiB,KADA,EAEH;AACIF,QAAAA,EAAE,EAAEP,UAAU,CAACS,KAAD,CADlB;AAEII,QAAAA,IAAI,EAAEH,MAAM,CAACE,OAFjB;AAGIE,QAAAA,SAAS,EAAE;AAHf,OAFG,CAAP;;AASJ,SAAKhB,OAAL;AACI,aAAOW,KAAK,CAACM,GAAN,CAAWX,IAAD,IAAU;AACvB,YAAIA,IAAI,CAACG,EAAL,KAAYG,MAAM,CAACE,OAAvB,EAAgC;AAC5B,iBAAOR,IAAP;AACH;;AAED,eAAO,EACH,GAAGA,IADA;AAEHU,UAAAA,SAAS,EAAE,CAACV,IAAI,CAACU;AAFd,SAAP;AAIH,OATM,CAAP;;AAWJ,SAAKnB,aAAL;AACI,YAAM;AAAEqB,QAAAA,MAAF;AAAUC,QAAAA;AAAV,UAAoBP,MAAM,CAACE,OAAjC;AACA,aAAOH,KAAK,CAACM,GAAN,CAAWX,IAAD,IAAU;AACvB,YAAIA,IAAI,CAACG,EAAL,KAAYS,MAAhB,EAAwB;AACpB,iBAAOZ,IAAP;AACH;;AACD,eAAO,EACH,GAAGA,IADA;AAEHa,UAAAA,KAAK,EAAEA;AAFJ,SAAP;AAIH,OARM,CAAP;;AAUJ,SAAKrB,OAAL;AACI,aAAOa,KAAK,CAACS,MAAN,CAAcd,IAAD,IAAUA,IAAI,CAACG,EAAL,KAAYG,MAAM,CAACE,OAA1C,CAAP;;AAEJ,SAAKnB,YAAL;AACI,aAAOgB,KAAK,CAACM,GAAN,CAAWX,IAAD,IAAU;AACvB,eAAO,EACH,GAAGA,IADA;AAEHU,UAAAA,SAAS,EAAE;AAFR,SAAP;AAIH,OALM,CAAP;;AAOJ,SAAKpB,cAAL;AACI,aAAOe,KAAK,CAACS,MAAN,CAAcd,IAAD,IAAU,CAACA,IAAI,CAACU,SAA7B,CAAP;;AAEJ;AACI,aAAOL,KAAP;AArDR;AAuDH,CAxDD;;AA0DA,eAAeD,OAAf","sourcesContent":["import {\n    ADDED,\n    ALLCOMPLETED,\n    CLEARCOMPLETED,\n    COLORSELECTED,\n    DELETED,\n    LOADED,\n    TOGGLED,\n} from \"./actionTypes\";\nimport initialState from \"./initialState\";\n\nconst nextTodoId = (todos) => {\n    const maxId = todos.reduce((maxId, todo) => Math.max(todo.id, maxId), -1);\n    return maxId + 1;\n};\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case LOADED:\n            return action.payload;\n\n        case ADDED:\n            return [\n                ...state,\n                {\n                    id: nextTodoId(state),\n                    text: action.payload,\n                    completed: false,\n                },\n            ];\n\n        case TOGGLED:\n            return state.map((todo) => {\n                if (todo.id !== action.payload) {\n                    return todo;\n                }\n\n                return {\n                    ...todo,\n                    completed: !todo.completed,\n                };\n            });\n\n        case COLORSELECTED:\n            const { todoId, color } = action.payload;\n            return state.map((todo) => {\n                if (todo.id !== todoId) {\n                    return todo;\n                }\n                return {\n                    ...todo,\n                    color: color,\n                };\n            });\n\n        case DELETED:\n            return state.filter((todo) => todo.id !== action.payload);\n\n        case ALLCOMPLETED:\n            return state.map((todo) => {\n                return {\n                    ...todo,\n                    completed: true,\n                };\n            });\n\n        case CLEARCOMPLETED:\n            return state.filter((todo) => !todo.completed);\n\n        default:\n            return state;\n    }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}